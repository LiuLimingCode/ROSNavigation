<?xml version="1.0"?>

<!-- 启动车的基本传感器和TF -->
<launch>

  <master auto="start"/>

  <arg name="base_frame" default="base_footprint"/>
  <arg name="imu_frame" default="imu_link"/>
  <arg name="imu_topic" default="/imu_data"/>
  <arg name="laser_frame" default="laser_link"/>
  <arg name="scan_topic" default="/scan"/>
  <arg name="ackermann_topic" default="/cmd_ackermann"/>
  <arg name="map_frame" default="map"/>

  <!-- ls01g 激光雷达传感器 -->
  <include file="$(find ls01g)/launch/ls01g.launch">
    <arg name="scan_topic" value="$(arg scan_topic)"/>
    <arg name="laser_link" value="$(arg laser_frame)"/>
  </include>

  <!-- IMU 姿态传感器 -->
  <include file="$(find art_imu)/launch/imu.launch">
    <arg name="imu_frame" value="$(arg imu_frame)"/>
    <arg name="imu_topic" value="$(arg imu_topic)"/>
  </include>

  <include file="$(find racecar_description)/launch/racecar_spawn.launch"/>

  <!-- 使用键盘发布cmd数据 -->
  <node pkg="racecar_control" type="keyboard_teleop.py" name="keyboard_teleop">
    <param name="speed" value="1"/>
    <param name="max_steering_angle" value="0.785398163"/>
    <param name="ackermann_cmd_topic" value="$(arg ackermann_topic)"/>
  </node>

  <node pkg="art_driver" name="art_driver_node" type="art_driver_node" >
    <param name="ackermann_cmd_topic" value="$(arg ackermann_topic)"/>
  </node>

</launch>

